{"ast":null,"code":"import \"antd-mobile/es/picker/style\";\nimport _Picker from \"antd-mobile/es/picker\";\nvar _jsxFileName = \"/usr/local/var/www/orangeweb/src/components/Process/index.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './style.less';\nimport IconEditPng from '../../images/vedio/icon-edit.png';\nimport API from '../../service/api';\nimport { getFetch } from '../../service/request';\nexport default class Progress extends Component {\n  constructor(props) {\n    super(props);\n    this.scoreNum = () => {\n      if (!this.props.score) {\n        return false;\n      }\n      let degNum = this.props.score / 100 * 180;\n      let degCss2 = 'rotate(' + degNum + 'deg)';\n      this.setState({\n        degCss: degCss2\n      });\n    };\n    this.state = {\n      degCss: 'rotate(0)',\n      district: []\n    };\n  }\n  componentDidMount() {\n    this.scoreNum();\n    this.getDistrictData();\n  }\n  async getDistrictData() {\n    const getRes = await getFetch(API.getVideoPrice, {});\n    console.log('getRes.price_data', getRes.price_data);\n    this.setState({\n      district: getRes.price_data.map(value => ({\n        value,\n        label: `${value} 积分/分钟`\n      }))\n    });\n  }\n  render() {\n    const {\n      district\n    } = this.state;\n    const circleBoxStyle = {\n      display: 'inline-block',\n      height: '118px',\n      overflow: 'hidden'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"process-view\",\n      style: circleBoxStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"216\",\n      height: \"130\",\n      style: {\n        marginTop: '-10px'\n      },\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"defs\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"linearGradient\", {\n      id: \"linearGradient\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"stop\", {\n      stopColor: \"#A48AFF\",\n      offset: \"0%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"stop\", {\n      stopColor: \"#A48AFF\",\n      offset: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"circle\", {\n      cx: \"108\",\n      cy: \"120\",\n      r: \"100\",\n      stroke: \"#EFE8FF\",\n      strokeWidth: \"8\",\n      fill: \"none\",\n      strokeDasharray: \"315\",\n      strokeDashoffset: \"-315\",\n      strokeLinecap: \"round\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"circle\", {\n      cx: \"108\",\n      cy: \"120\",\n      r: \"100\",\n      stroke: \"url(#linearGradient)\",\n      strokeWidth: \"8\",\n      fill: \"none\",\n      strokeDasharray: `${this.props.score / 100 * 315 || 0.1} 316`,\n      strokeDashoffset: \"-315\",\n      strokeLinecap: \"round\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cot\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"lab\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, \"\\u5F53\\u524D\\u804A\\u4EF7:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"num\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, this.props.price), \"\\u79EF\\u5206/\\u5206\\u949F\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(_Picker, {\n      data: district,\n      cols: 1,\n      value: [this.props.price],\n      onChange: this.props.change,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      onClick: this.props.edit,\n      src: IconEditPng,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }))))));\n  }\n}\nProgress.propTypes = {\n  //  当前进度条所处的位置\n  score: PropTypes.number.isRequired,\n  //  当前进度条显示的文字\n  text: PropTypes.number.isRequired,\n  //  进度条的颜色\n  progressColor: PropTypes.string.isRequired\n};","map":{"version":3,"names":["React","Component","PropTypes","IconEditPng","API","getFetch","Progress","constructor","props","scoreNum","score","degNum","degCss2","setState","degCss","state","district","componentDidMount","getDistrictData","getRes","getVideoPrice","console","log","price_data","map","value","label","render","circleBoxStyle","display","height","overflow","marginTop","price","change","edit","propTypes","number","isRequired","text","progressColor","string"],"sources":["/usr/local/var/www/orangeweb/src/components/Process/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Picker } from 'antd-mobile'\nimport PropTypes from 'prop-types';\nimport './style.less'\nimport IconEditPng from '../../images/vedio/icon-edit.png'\nimport API from '../../service/api'\nimport { getFetch } from '../../service/request'\n\nexport default class Progress extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      degCss: 'rotate(0)',\n      district: []\n    };\n  }\n  scoreNum = () => {\n    if (!this.props.score) {\n      return false;\n    }\n    let degNum = (this.props.score / 100) * 180;\n    let degCss2 = 'rotate(' + degNum + 'deg)';\n    this.setState({\n      degCss: degCss2\n    });\n  }\n  componentDidMount() {\n    this.scoreNum();\n    this.getDistrictData()\n  }\n  async getDistrictData() {\n    const getRes = await getFetch(API.getVideoPrice, {})\n    console.log('getRes.price_data', getRes.price_data)\n    this.setState({\n      district: getRes.price_data.map((value) => ({\n        value,\n        label: `${value} 积分/分钟`,\n      }))\n    })\n  }\n  render() {\n    const { district } = this.state\n    const circleBoxStyle = {\n      display: 'inline-block',\n      height: '118px',\n      overflow: 'hidden',\n    };\n    return (\n      <div className='process-view' style={circleBoxStyle}>\n        <svg width=\"216\" height=\"130\" style={{marginTop: '-10px'}} xmlns='http://www.w3.org/2000/svg'>\n          <defs>\n            <linearGradient id=\"linearGradient\">\n              <stop stopColor=\"#A48AFF\" offset=\"0%\"></stop>\n              <stop stopColor=\"#A48AFF\" offset=\"100%\"></stop>\n            </linearGradient>\n\n            </defs>\n            <circle cx=\"108\" cy=\"120\" r=\"100\" stroke=\"#EFE8FF\" strokeWidth=\"8\" fill=\"none\" strokeDasharray=\"315\" strokeDashoffset=\"-315\" strokeLinecap=\"round\"></circle>\n            <circle cx=\"108\" cy=\"120\" r=\"100\" stroke=\"url(#linearGradient)\" strokeWidth=\"8\" fill=\"none\" strokeDasharray={`${(this.props.score / 100 * 315) || 0.1} 316`} strokeDashoffset=\"-315\" strokeLinecap=\"round\">\n            </circle>\n          </svg>\n        <div className='cot'>\n          <span className='lab'>当前聊价:</span>\n          <div className='num'>\n            <span>{this.props.price}</span>积分/分钟\n            <div className='edit-box'>\n              <Picker\n                data={district}\n                cols={1}\n                value={[this.props.price]}\n                onChange = {this.props.change}\n              >\n                <img onClick={this.props.edit} src={IconEditPng} />\n              </Picker>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nProgress.propTypes = {\n    //  当前进度条所处的位置\n    score: PropTypes.number.isRequired,\n    //  当前进度条显示的文字\n    text: PropTypes.number.isRequired,\n    //  进度条的颜色\n    progressColor: PropTypes.string.isRequired\n\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}