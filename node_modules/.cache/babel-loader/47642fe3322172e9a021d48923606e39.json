{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport arrayTreeFilter from 'array-tree-filter';\nimport MultiPicker from 'rmc-picker/es/MultiPicker';\nimport Picker from 'rmc-picker/lib/Picker';\nvar Cascader = function (_React$Component) {\n  _inherits(Cascader, _React$Component);\n  function Cascader() {\n    _classCallCheck(this, Cascader);\n    var _this = _possibleConstructorReturn(this, (Cascader.__proto__ || Object.getPrototypeOf(Cascader)).apply(this, arguments));\n    _this.state = {\n      value: _this.getValue(_this.props.data, _this.props.defaultValue || _this.props.value)\n    };\n    _this.onValueChange = function (value, index) {\n      var children = arrayTreeFilter(_this.props.data, function (c, level) {\n        return level <= index && c.value === value[level];\n      });\n      var data = children[index];\n      var i = void 0;\n      for (i = index + 1; data && data.children && data.children.length && i < _this.props.cols; i++) {\n        data = data.children[0];\n        value[i] = data.value;\n      }\n      value.length = i;\n      _this.setState({\n        value: value\n      });\n      if (_this.props.onChange) {\n        _this.props.onChange(value);\n      }\n    };\n    return _this;\n  }\n  _createClass(Cascader, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps) {\n        this.setState({\n          value: this.getValue(nextProps.data, nextProps.value)\n        });\n      }\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue(d, val) {\n      var data = d || this.props.data;\n      var value = val || this.props.value || this.props.defaultValue;\n      if (!value || !value.length || value.indexOf(undefined) > -1) {\n        value = [];\n        for (var i = 0; i < this.props.cols; i++) {\n          if (data && data.length) {\n            value[i] = data[0].value;\n            data = data[0].children;\n          }\n        }\n      }\n      return value;\n    }\n  }, {\n    key: 'getCols',\n    value: function getCols() {\n      var _props = this.props,\n        data = _props.data,\n        cols = _props.cols,\n        pickerPrefixCls = _props.pickerPrefixCls,\n        disabled = _props.disabled,\n        pickerItemStyle = _props.pickerItemStyle,\n        indicatorStyle = _props.indicatorStyle;\n      var value = this.state.value;\n      var childrenTree = arrayTreeFilter(data, function (c, level) {\n        return c.value === value[level];\n      }).map(function (c) {\n        return c.children;\n      });\n      var needPad = cols - childrenTree.length;\n      if (needPad > 0) {\n        for (var i = 0; i < needPad; i++) {\n          childrenTree.push([]);\n        }\n      }\n      childrenTree.length = cols - 1;\n      childrenTree.unshift(data);\n      return childrenTree.map(function () {\n        var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var level = arguments[1];\n        return React.createElement(Picker, {\n          key: level,\n          prefixCls: pickerPrefixCls,\n          style: {\n            flex: 1\n          },\n          disabled: disabled,\n          itemStyle: pickerItemStyle,\n          indicatorStyle: indicatorStyle\n        }, children.map(function (item) {\n          return React.createElement(Picker.Item, {\n            value: item.value,\n            key: item.value\n          }, item.label);\n        }));\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var prefixCls = props.prefixCls,\n        className = props.className,\n        rootNativeProps = props.rootNativeProps,\n        style = props.style;\n      var cols = this.getCols();\n      var multiStyle = _extends({\n        flexDirection: 'row',\n        alignItems: 'center'\n      }, style);\n      return React.createElement(MultiPicker, {\n        style: multiStyle,\n        prefixCls: prefixCls,\n        className: className,\n        selectedValue: this.state.value,\n        rootNativeProps: rootNativeProps,\n        onValueChange: this.onValueChange,\n        onScrollChange: props.onScrollChange\n      }, cols);\n    }\n  }]);\n  return Cascader;\n}(React.Component);\nCascader.defaultProps = {\n  cols: 3,\n  prefixCls: 'rmc-cascader',\n  pickerPrefixCls: 'rmc-picker',\n  data: [],\n  disabled: false\n};\nexport default Cascader;","map":{"version":3,"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","arrayTreeFilter","MultiPicker","Picker","Cascader","_React$Component","_this","__proto__","Object","getPrototypeOf","apply","arguments","state","value","getValue","props","data","defaultValue","onValueChange","index","children","c","level","i","length","cols","setState","onChange","key","componentWillReceiveProps","nextProps","d","val","indexOf","undefined","getCols","_props","pickerPrefixCls","disabled","pickerItemStyle","indicatorStyle","childrenTree","map","needPad","push","unshift","createElement","prefixCls","style","flex","itemStyle","item","Item","label","render","className","rootNativeProps","multiStyle","flexDirection","alignItems","selectedValue","onScrollChange","Component","defaultProps"],"sources":["/usr/local/var/www/orangeweb/node_modules/rmc-cascader/es/Cascader.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport arrayTreeFilter from 'array-tree-filter';\nimport MultiPicker from 'rmc-picker/es/MultiPicker';\nimport Picker from 'rmc-picker/lib/Picker';\n\nvar Cascader = function (_React$Component) {\n    _inherits(Cascader, _React$Component);\n\n    function Cascader() {\n        _classCallCheck(this, Cascader);\n\n        var _this = _possibleConstructorReturn(this, (Cascader.__proto__ || Object.getPrototypeOf(Cascader)).apply(this, arguments));\n\n        _this.state = {\n            value: _this.getValue(_this.props.data, _this.props.defaultValue || _this.props.value)\n        };\n        _this.onValueChange = function (value, index) {\n            var children = arrayTreeFilter(_this.props.data, function (c, level) {\n                return level <= index && c.value === value[level];\n            });\n            var data = children[index];\n            var i = void 0;\n            for (i = index + 1; data && data.children && data.children.length && i < _this.props.cols; i++) {\n                data = data.children[0];\n                value[i] = data.value;\n            }\n            value.length = i;\n            _this.setState({ value: value });\n            if (_this.props.onChange) {\n                _this.props.onChange(value);\n            }\n        };\n        return _this;\n    }\n\n    _createClass(Cascader, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if ('value' in nextProps) {\n                this.setState({\n                    value: this.getValue(nextProps.data, nextProps.value)\n                });\n            }\n        }\n    }, {\n        key: 'getValue',\n        value: function getValue(d, val) {\n            var data = d || this.props.data;\n            var value = val || this.props.value || this.props.defaultValue;\n            if (!value || !value.length || value.indexOf(undefined) > -1) {\n                value = [];\n                for (var i = 0; i < this.props.cols; i++) {\n                    if (data && data.length) {\n                        value[i] = data[0].value;\n                        data = data[0].children;\n                    }\n                }\n            }\n            return value;\n        }\n    }, {\n        key: 'getCols',\n        value: function getCols() {\n            var _props = this.props,\n                data = _props.data,\n                cols = _props.cols,\n                pickerPrefixCls = _props.pickerPrefixCls,\n                disabled = _props.disabled,\n                pickerItemStyle = _props.pickerItemStyle,\n                indicatorStyle = _props.indicatorStyle;\n\n            var value = this.state.value;\n            var childrenTree = arrayTreeFilter(data, function (c, level) {\n                return c.value === value[level];\n            }).map(function (c) {\n                return c.children;\n            });\n                        var needPad = cols - childrenTree.length;\n            if (needPad > 0) {\n                for (var i = 0; i < needPad; i++) {\n                    childrenTree.push([]);\n                }\n            }\n            childrenTree.length = cols - 1;\n            childrenTree.unshift(data);\n            return childrenTree.map(function () {\n                var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n                var level = arguments[1];\n                return React.createElement(Picker, { key: level, prefixCls: pickerPrefixCls, style: { flex: 1 }, disabled: disabled, itemStyle: pickerItemStyle, indicatorStyle: indicatorStyle }, children.map(function (item) {\n                    return React.createElement(Picker.Item, { value: item.value, key: item.value }, item.label);\n                }));\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var props = this.props;\n            var prefixCls = props.prefixCls,\n                className = props.className,\n                rootNativeProps = props.rootNativeProps,\n                style = props.style;\n\n            var cols = this.getCols();\n            var multiStyle = _extends({ flexDirection: 'row', alignItems: 'center' }, style);\n            return React.createElement(MultiPicker, { style: multiStyle, prefixCls: prefixCls, className: className, selectedValue: this.state.value, rootNativeProps: rootNativeProps, onValueChange: this.onValueChange, onScrollChange: props.onScrollChange }, cols);\n        }\n    }]);\n\n    return Cascader;\n}(React.Component);\n\nCascader.defaultProps = {\n    cols: 3,\n    prefixCls: 'rmc-cascader',\n    pickerPrefixCls: 'rmc-picker',\n    data: [],\n    disabled: false\n};\nexport default Cascader;"],"mappings":"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"},"metadata":{},"sourceType":"module"}