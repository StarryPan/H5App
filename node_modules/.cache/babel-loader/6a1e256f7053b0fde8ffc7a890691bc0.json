{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n/* eslint no-unused-vars: 0, react/no-multi-comp: 0\nreact/prop-types: 0, react/sort-comp: 0, no-unused-expressions: 0 */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport ListViewDataSource from './ListViewDataSource';\nimport ScrollView from './ScrollView';\nvar DEFAULT_PAGE_SIZE = 1;\nvar DEFAULT_INITIAL_ROWS = 10;\nvar DEFAULT_SCROLL_RENDER_AHEAD = 1000;\nvar DEFAULT_END_REACHED_THRESHOLD = 1000;\nvar DEFAULT_SCROLL_CALLBACK_THROTTLE = 50;\n// const SCROLLVIEW_REF = 'ListViewRef';\n\nvar StaticRenderer = function (_React$Component) {\n  _inherits(StaticRenderer, _React$Component);\n  function StaticRenderer() {\n    _classCallCheck(this, StaticRenderer);\n    return _possibleConstructorReturn(this, (StaticRenderer.__proto__ || Object.getPrototypeOf(StaticRenderer)).apply(this, arguments));\n  }\n  _createClass(StaticRenderer, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return nextProps.shouldUpdate;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.render();\n    }\n  }]);\n  return StaticRenderer;\n}(React.Component);\n// https://github.com/facebook/react-native/blob/0.26-stable/Libraries/CustomComponents/ListView/ListView.js\n\nvar ListView = function (_React$Component2) {\n  _inherits(ListView, _React$Component2);\n  function ListView() {\n    var _ref;\n    var _temp, _this2, _ret;\n    _classCallCheck(this, ListView);\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = ListView.__proto__ || Object.getPrototypeOf(ListView)).call.apply(_ref, [this].concat(args))), _this2), _initialiseProps.call(_this2), _temp), _possibleConstructorReturn(_this2, _ret);\n  }\n\n  /**\n   * Exports some data, e.g. for perf investigations or analytics.\n   */\n\n  _createClass(ListView, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      // this data should never trigger a render pass, so don't put in state\n      this.scrollProperties = {\n        visibleLength: null,\n        contentLength: null,\n        offset: 0\n      };\n      this._childFrames = [];\n      this._visibleRows = {};\n      this._prevRenderedRowsCount = 0;\n      this._sentEndForContentLength = null;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n      if (this.props.dataSource !== nextProps.dataSource || this.props.initialListSize !== nextProps.initialListSize) {\n        this.setState(function (state, props) {\n          _this3._prevRenderedRowsCount = 0;\n          return {\n            curRenderedRowsCount: Math.min(Math.max(state.curRenderedRowsCount, nextProps.initialListSize // for preact\n            ), nextProps.dataSource.getRowCount() // for preact\n            )\n          };\n        }, function () {\n          return _this3._renderMoreRowsIfNeeded();\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n      var dataSource = this.props.dataSource;\n      var allRowIDs = dataSource.rowIdentities;\n      var bodyComponents = [];\n      var rowCount = 0;\n      for (var sectionIdx = 0; sectionIdx < allRowIDs.length; sectionIdx++) {\n        var sectionID = dataSource.sectionIdentities[sectionIdx];\n        var rowIDs = allRowIDs[sectionIdx];\n        if (rowIDs.length === 0) {\n          continue;\n        }\n        var renderSectionHeader = void 0;\n        if (this.props.renderSectionHeader) {\n          var shouldUpdateHeader = rowCount >= this._prevRenderedRowsCount && dataSource.sectionHeaderShouldUpdate(sectionIdx);\n          renderSectionHeader = React.createElement(StaticRenderer, {\n            key: 's_' + sectionID,\n            shouldUpdate: !!shouldUpdateHeader,\n            render: this.props.renderSectionHeader.bind(null, dataSource.getSectionHeaderData(sectionIdx), sectionID)\n          });\n        }\n        var sectionBody = [];\n        for (var rowIdx = 0; rowIdx < rowIDs.length; rowIdx++) {\n          var rowID = rowIDs[rowIdx];\n          var comboID = sectionID + '_' + rowID;\n          var shouldUpdateRow = rowCount >= this._prevRenderedRowsCount && dataSource.rowShouldUpdate(sectionIdx, rowIdx);\n          var row = React.createElement(StaticRenderer, {\n            key: 'r_' + comboID,\n            shouldUpdate: !!shouldUpdateRow,\n            render: this.props.renderRow.bind(null, dataSource.getRowData(sectionIdx, rowIdx), sectionID, rowID, this.onRowHighlighted)\n          });\n          sectionBody.push(row);\n          if (this.props.renderSeparator && (rowIdx !== rowIDs.length - 1 || sectionIdx === allRowIDs.length - 1)) {\n            var adjacentRowHighlighted = this.state.highlightedRow.sectionID === sectionID && (this.state.highlightedRow.rowID === rowID || this.state.highlightedRow.rowID === rowIDs[rowIdx + 1]);\n            var separator = this.props.renderSeparator(sectionID, rowID, adjacentRowHighlighted);\n            if (separator) {\n              sectionBody.push(separator);\n            }\n          }\n          if (++rowCount === this.state.curRenderedRowsCount) {\n            break;\n          }\n        }\n        var rowsAndSeparators = React.cloneElement(this.props.renderSectionBodyWrapper(sectionID), {\n          className: this.props.sectionBodyClassName\n        }, sectionBody);\n        if (this.props.renderSectionWrapper) {\n          bodyComponents.push(React.cloneElement(this.props.renderSectionWrapper(sectionID), {}, renderSectionHeader, rowsAndSeparators));\n        } else {\n          bodyComponents.push(renderSectionHeader);\n          bodyComponents.push(rowsAndSeparators);\n        }\n        if (rowCount >= this.state.curRenderedRowsCount) {\n          break;\n        }\n      }\n      var _props = this.props,\n        renderScrollComponent = _props.renderScrollComponent,\n        props = _objectWithoutProperties(_props, ['renderScrollComponent']);\n      return React.cloneElement(renderScrollComponent(_extends({}, props, {\n        onScroll: this._onScroll\n      })), {\n        ref: function ref(el) {\n          return _this4.ListViewRef = el;\n        },\n        onContentSizeChange: this._onContentSizeChange,\n        onLayout: this._onLayout\n      }, this.props.renderHeader ? this.props.renderHeader() : null, React.cloneElement(props.renderBodyComponent(), {}, bodyComponents), this.props.renderFooter ? this.props.renderFooter() : null, props.children);\n    }\n  }]);\n  return ListView;\n}(React.Component);\nListView.DataSource = ListViewDataSource;\nListView.propTypes = _extends({}, ScrollView.propTypes, {\n  dataSource: PropTypes.instanceOf(ListViewDataSource).isRequired,\n  renderSeparator: PropTypes.func,\n  renderRow: PropTypes.func.isRequired,\n  initialListSize: PropTypes.number,\n  onEndReached: PropTypes.func,\n  onEndReachedThreshold: PropTypes.number,\n  pageSize: PropTypes.number,\n  renderFooter: PropTypes.func,\n  renderHeader: PropTypes.func,\n  renderSectionHeader: PropTypes.func,\n  renderScrollComponent: PropTypes.func,\n  scrollRenderAheadDistance: PropTypes.number,\n  onChangeVisibleRows: PropTypes.func,\n  scrollEventThrottle: PropTypes.number,\n  // another added\n  renderBodyComponent: PropTypes.func,\n  renderSectionWrapper: PropTypes.func,\n  renderSectionBodyWrapper: PropTypes.func,\n  sectionBodyClassName: PropTypes.string,\n  listViewPrefixCls: PropTypes.string,\n  useBodyScroll: PropTypes.bool\n});\nListView.defaultProps = {\n  initialListSize: DEFAULT_INITIAL_ROWS,\n  pageSize: DEFAULT_PAGE_SIZE,\n  renderScrollComponent: function renderScrollComponent(props) {\n    return React.createElement(ScrollView, props);\n  },\n  renderBodyComponent: function renderBodyComponent() {\n    return React.createElement('div', null);\n  },\n  renderSectionBodyWrapper: function renderSectionBodyWrapper(sectionID) {\n    return React.createElement('div', {\n      key: sectionID\n    });\n  },\n  sectionBodyClassName: 'list-view-section-body',\n  listViewPrefixCls: 'rmc-list-view',\n  scrollRenderAheadDistance: DEFAULT_SCROLL_RENDER_AHEAD,\n  onEndReachedThreshold: DEFAULT_END_REACHED_THRESHOLD,\n  scrollEventThrottle: DEFAULT_SCROLL_CALLBACK_THROTTLE,\n  scrollerOptions: {}\n};\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n  this.state = {\n    curRenderedRowsCount: this.props.initialListSize,\n    highlightedRow: {}\n  };\n  this.getMetrics = function () {\n    return {\n      contentLength: _this5.scrollProperties.contentLength,\n      totalRows: _this5.props.dataSource.getRowCount(),\n      renderedRows: _this5.state.curRenderedRowsCount,\n      visibleRows: Object.keys(_this5._visibleRows).length\n    };\n  };\n  this.getInnerViewNode = function () {\n    return _this5.ListViewRef.getInnerViewNode();\n  };\n  this.scrollTo = function () {\n    var _ListViewRef;\n    _this5.ListViewRef && _this5.ListViewRef.scrollTo && (_ListViewRef = _this5.ListViewRef).scrollTo.apply(_ListViewRef, arguments);\n  };\n  this.onRowHighlighted = function (sectionID, rowID) {\n    _this5.setState({\n      highlightedRow: {\n        sectionID: sectionID,\n        rowID: rowID\n      }\n    });\n  };\n  this._onContentSizeChange = function (width, height) {\n    var contentLength = !_this5.props.horizontal ? height : width;\n    if (contentLength !== _this5.scrollProperties.contentLength) {\n      _this5.scrollProperties.contentLength = contentLength;\n      _this5._renderMoreRowsIfNeeded();\n    }\n    _this5.props.onContentSizeChange && _this5.props.onContentSizeChange(width, height);\n  };\n  this._onLayout = function (event) {\n    var _event$nativeEvent$la = event.nativeEvent.layout,\n      width = _event$nativeEvent$la.width,\n      height = _event$nativeEvent$la.height;\n    var visibleLength = !_this5.props.horizontal ? height : width;\n    if (visibleLength !== _this5.scrollProperties.visibleLength) {\n      _this5.scrollProperties.visibleLength = visibleLength;\n      _this5._renderMoreRowsIfNeeded();\n    }\n    _this5.props.onLayout && _this5.props.onLayout(event);\n  };\n  this._maybeCallOnEndReached = function (event) {\n    // console.log(this.scrollProperties, this._getDistanceFromEnd(this.scrollProperties));\n    if (_this5.props.onEndReached && _this5.scrollProperties.contentLength !== _this5._sentEndForContentLength && _this5._getDistanceFromEnd(_this5.scrollProperties) < _this5.props.onEndReachedThreshold && _this5.state.curRenderedRowsCount === _this5.props.dataSource.getRowCount()) {\n      _this5._sentEndForContentLength = _this5.scrollProperties.contentLength;\n      _this5.props.onEndReached(event);\n      return true;\n    }\n    return false;\n  };\n  this._renderMoreRowsIfNeeded = function () {\n    if (_this5.scrollProperties.contentLength === null || _this5.scrollProperties.visibleLength === null || _this5.state.curRenderedRowsCount === _this5.props.dataSource.getRowCount()) {\n      _this5._maybeCallOnEndReached();\n      return;\n    }\n    var distanceFromEnd = _this5._getDistanceFromEnd(_this5.scrollProperties);\n    // console.log(distanceFromEnd, this.props.scrollRenderAheadDistance);\n    if (distanceFromEnd < _this5.props.scrollRenderAheadDistance) {\n      _this5._pageInNewRows();\n    }\n  };\n  this._pageInNewRows = function () {\n    _this5.setState(function (state, props) {\n      var rowsToRender = Math.min(state.curRenderedRowsCount + props.pageSize, props.dataSource.getRowCount());\n      _this5._prevRenderedRowsCount = state.curRenderedRowsCount;\n      return {\n        curRenderedRowsCount: rowsToRender\n      };\n    }, function () {\n      _this5._prevRenderedRowsCount = _this5.state.curRenderedRowsCount;\n    });\n  };\n  this._getDistanceFromEnd = function (scrollProperties) {\n    return scrollProperties.contentLength - scrollProperties.visibleLength - scrollProperties.offset;\n  };\n  this._onScroll = function (e, metrics) {\n    // when the ListView is destroyed,\n    // but also will trigger scroll event after `scrollEventThrottle`\n    if (!_this5.ListViewRef) {\n      return;\n    }\n    _this5.scrollProperties = metrics;\n    if (!_this5._maybeCallOnEndReached(e)) {\n      _this5._renderMoreRowsIfNeeded();\n    }\n    if (_this5.props.onEndReached && _this5._getDistanceFromEnd(_this5.scrollProperties) > _this5.props.onEndReachedThreshold) {\n      // Scrolled out of the end zone, so it should be able to trigger again.\n      _this5._sentEndForContentLength = null;\n    }\n    _this5.props.onScroll && _this5.props.onScroll(e);\n  };\n};\nexport default ListView;","map":{"version":3,"names":["_extends","_objectWithoutProperties","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PropTypes","ReactDOM","ListViewDataSource","ScrollView","DEFAULT_PAGE_SIZE","DEFAULT_INITIAL_ROWS","DEFAULT_SCROLL_RENDER_AHEAD","DEFAULT_END_REACHED_THRESHOLD","DEFAULT_SCROLL_CALLBACK_THROTTLE","StaticRenderer","_React$Component","__proto__","Object","getPrototypeOf","apply","arguments","key","value","shouldComponentUpdate","nextProps","shouldUpdate","render","props","Component","ListView","_React$Component2","_ref","_temp","_this2","_ret","_len","length","args","Array","_key","call","concat","_initialiseProps","componentWillMount","scrollProperties","visibleLength","contentLength","offset","_childFrames","_visibleRows","_prevRenderedRowsCount","_sentEndForContentLength","componentWillReceiveProps","_this3","dataSource","initialListSize","setState","state","curRenderedRowsCount","Math","min","max","getRowCount","_renderMoreRowsIfNeeded","_this4","allRowIDs","rowIdentities","bodyComponents","rowCount","sectionIdx","sectionID","sectionIdentities","rowIDs","renderSectionHeader","shouldUpdateHeader","sectionHeaderShouldUpdate","createElement","bind","getSectionHeaderData","sectionBody","rowIdx","rowID","comboID","shouldUpdateRow","rowShouldUpdate","row","renderRow","getRowData","onRowHighlighted","push","renderSeparator","adjacentRowHighlighted","highlightedRow","separator","rowsAndSeparators","cloneElement","renderSectionBodyWrapper","className","sectionBodyClassName","renderSectionWrapper","_props","renderScrollComponent","onScroll","_onScroll","ref","el","ListViewRef","onContentSizeChange","_onContentSizeChange","onLayout","_onLayout","renderHeader","renderBodyComponent","renderFooter","children","DataSource","propTypes","instanceOf","isRequired","func","number","onEndReached","onEndReachedThreshold","pageSize","scrollRenderAheadDistance","onChangeVisibleRows","scrollEventThrottle","string","listViewPrefixCls","useBodyScroll","bool","defaultProps","scrollerOptions","_this5","getMetrics","totalRows","renderedRows","visibleRows","keys","getInnerViewNode","scrollTo","_ListViewRef","width","height","horizontal","event","_event$nativeEvent$la","nativeEvent","layout","_maybeCallOnEndReached","_getDistanceFromEnd","distanceFromEnd","_pageInNewRows","rowsToRender","e","metrics"],"sources":["/usr/local/var/www/orangeweb/node_modules/rmc-list-view/es/ListView.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n/* eslint no-unused-vars: 0, react/no-multi-comp: 0\nreact/prop-types: 0, react/sort-comp: 0, no-unused-expressions: 0 */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport ListViewDataSource from './ListViewDataSource';\nimport ScrollView from './ScrollView';\n\nvar DEFAULT_PAGE_SIZE = 1;\nvar DEFAULT_INITIAL_ROWS = 10;\nvar DEFAULT_SCROLL_RENDER_AHEAD = 1000;\nvar DEFAULT_END_REACHED_THRESHOLD = 1000;\nvar DEFAULT_SCROLL_CALLBACK_THROTTLE = 50;\n// const SCROLLVIEW_REF = 'ListViewRef';\n\nvar StaticRenderer = function (_React$Component) {\n  _inherits(StaticRenderer, _React$Component);\n\n  function StaticRenderer() {\n    _classCallCheck(this, StaticRenderer);\n\n    return _possibleConstructorReturn(this, (StaticRenderer.__proto__ || Object.getPrototypeOf(StaticRenderer)).apply(this, arguments));\n  }\n\n  _createClass(StaticRenderer, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return nextProps.shouldUpdate;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.render();\n    }\n  }]);\n\n  return StaticRenderer;\n}(React.Component);\n// https://github.com/facebook/react-native/blob/0.26-stable/Libraries/CustomComponents/ListView/ListView.js\n\n\nvar ListView = function (_React$Component2) {\n  _inherits(ListView, _React$Component2);\n\n  function ListView() {\n    var _ref;\n\n    var _temp, _this2, _ret;\n\n    _classCallCheck(this, ListView);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = ListView.__proto__ || Object.getPrototypeOf(ListView)).call.apply(_ref, [this].concat(args))), _this2), _initialiseProps.call(_this2), _temp), _possibleConstructorReturn(_this2, _ret);\n  }\n\n  /**\n   * Exports some data, e.g. for perf investigations or analytics.\n   */\n\n\n  _createClass(ListView, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      // this data should never trigger a render pass, so don't put in state\n      this.scrollProperties = {\n        visibleLength: null,\n        contentLength: null,\n        offset: 0\n      };\n      this._childFrames = [];\n      this._visibleRows = {};\n      this._prevRenderedRowsCount = 0;\n      this._sentEndForContentLength = null;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      if (this.props.dataSource !== nextProps.dataSource || this.props.initialListSize !== nextProps.initialListSize) {\n        this.setState(function (state, props) {\n          _this3._prevRenderedRowsCount = 0;\n          return {\n            curRenderedRowsCount: Math.min(Math.max(state.curRenderedRowsCount, nextProps.initialListSize // for preact\n            ), nextProps.dataSource.getRowCount() // for preact\n            )\n          };\n        }, function () {\n          return _this3._renderMoreRowsIfNeeded();\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var dataSource = this.props.dataSource;\n      var allRowIDs = dataSource.rowIdentities;\n      var bodyComponents = [];\n      var rowCount = 0;\n\n      for (var sectionIdx = 0; sectionIdx < allRowIDs.length; sectionIdx++) {\n        var sectionID = dataSource.sectionIdentities[sectionIdx];\n        var rowIDs = allRowIDs[sectionIdx];\n        if (rowIDs.length === 0) {\n          continue;\n        }\n\n        var renderSectionHeader = void 0;\n        if (this.props.renderSectionHeader) {\n          var shouldUpdateHeader = rowCount >= this._prevRenderedRowsCount && dataSource.sectionHeaderShouldUpdate(sectionIdx);\n\n          renderSectionHeader = React.createElement(StaticRenderer, {\n            key: 's_' + sectionID,\n            shouldUpdate: !!shouldUpdateHeader,\n            render: this.props.renderSectionHeader.bind(null, dataSource.getSectionHeaderData(sectionIdx), sectionID)\n          });\n        }\n\n        var sectionBody = [];\n        for (var rowIdx = 0; rowIdx < rowIDs.length; rowIdx++) {\n          var rowID = rowIDs[rowIdx];\n          var comboID = sectionID + '_' + rowID;\n          var shouldUpdateRow = rowCount >= this._prevRenderedRowsCount && dataSource.rowShouldUpdate(sectionIdx, rowIdx);\n          var row = React.createElement(StaticRenderer, {\n            key: 'r_' + comboID,\n            shouldUpdate: !!shouldUpdateRow,\n            render: this.props.renderRow.bind(null, dataSource.getRowData(sectionIdx, rowIdx), sectionID, rowID, this.onRowHighlighted)\n          });\n          sectionBody.push(row);\n\n          if (this.props.renderSeparator && (rowIdx !== rowIDs.length - 1 || sectionIdx === allRowIDs.length - 1)) {\n            var adjacentRowHighlighted = this.state.highlightedRow.sectionID === sectionID && (this.state.highlightedRow.rowID === rowID || this.state.highlightedRow.rowID === rowIDs[rowIdx + 1]);\n            var separator = this.props.renderSeparator(sectionID, rowID, adjacentRowHighlighted);\n            if (separator) {\n              sectionBody.push(separator);\n            }\n          }\n          if (++rowCount === this.state.curRenderedRowsCount) {\n            break;\n          }\n        }\n\n        var rowsAndSeparators = React.cloneElement(this.props.renderSectionBodyWrapper(sectionID), {\n          className: this.props.sectionBodyClassName\n        }, sectionBody);\n\n        if (this.props.renderSectionWrapper) {\n          bodyComponents.push(React.cloneElement(this.props.renderSectionWrapper(sectionID), {}, renderSectionHeader, rowsAndSeparators));\n        } else {\n          bodyComponents.push(renderSectionHeader);\n          bodyComponents.push(rowsAndSeparators);\n        }\n        if (rowCount >= this.state.curRenderedRowsCount) {\n          break;\n        }\n      }\n\n      var _props = this.props,\n          renderScrollComponent = _props.renderScrollComponent,\n          props = _objectWithoutProperties(_props, ['renderScrollComponent']);\n\n      return React.cloneElement(renderScrollComponent(_extends({}, props, { onScroll: this._onScroll })), {\n        ref: function ref(el) {\n          return _this4.ListViewRef = el;\n        },\n        onContentSizeChange: this._onContentSizeChange,\n        onLayout: this._onLayout\n      }, this.props.renderHeader ? this.props.renderHeader() : null, React.cloneElement(props.renderBodyComponent(), {}, bodyComponents), this.props.renderFooter ? this.props.renderFooter() : null, props.children);\n    }\n  }]);\n\n  return ListView;\n}(React.Component);\n\nListView.DataSource = ListViewDataSource;\nListView.propTypes = _extends({}, ScrollView.propTypes, {\n  dataSource: PropTypes.instanceOf(ListViewDataSource).isRequired,\n  renderSeparator: PropTypes.func,\n  renderRow: PropTypes.func.isRequired,\n  initialListSize: PropTypes.number,\n  onEndReached: PropTypes.func,\n  onEndReachedThreshold: PropTypes.number,\n  pageSize: PropTypes.number,\n  renderFooter: PropTypes.func,\n  renderHeader: PropTypes.func,\n  renderSectionHeader: PropTypes.func,\n  renderScrollComponent: PropTypes.func,\n  scrollRenderAheadDistance: PropTypes.number,\n  onChangeVisibleRows: PropTypes.func,\n  scrollEventThrottle: PropTypes.number,\n  // another added\n  renderBodyComponent: PropTypes.func,\n  renderSectionWrapper: PropTypes.func,\n  renderSectionBodyWrapper: PropTypes.func,\n  sectionBodyClassName: PropTypes.string,\n  listViewPrefixCls: PropTypes.string,\n  useBodyScroll: PropTypes.bool\n});\nListView.defaultProps = {\n  initialListSize: DEFAULT_INITIAL_ROWS,\n  pageSize: DEFAULT_PAGE_SIZE,\n  renderScrollComponent: function renderScrollComponent(props) {\n    return React.createElement(ScrollView, props);\n  },\n  renderBodyComponent: function renderBodyComponent() {\n    return React.createElement('div', null);\n  },\n  renderSectionBodyWrapper: function renderSectionBodyWrapper(sectionID) {\n    return React.createElement('div', { key: sectionID });\n  },\n  sectionBodyClassName: 'list-view-section-body',\n  listViewPrefixCls: 'rmc-list-view',\n  scrollRenderAheadDistance: DEFAULT_SCROLL_RENDER_AHEAD,\n  onEndReachedThreshold: DEFAULT_END_REACHED_THRESHOLD,\n  scrollEventThrottle: DEFAULT_SCROLL_CALLBACK_THROTTLE,\n  scrollerOptions: {}\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.state = {\n    curRenderedRowsCount: this.props.initialListSize,\n    highlightedRow: {} };\n\n  this.getMetrics = function () {\n    return {\n      contentLength: _this5.scrollProperties.contentLength,\n      totalRows: _this5.props.dataSource.getRowCount(),\n      renderedRows: _this5.state.curRenderedRowsCount,\n      visibleRows: Object.keys(_this5._visibleRows).length\n    };\n  };\n\n  this.getInnerViewNode = function () {\n    return _this5.ListViewRef.getInnerViewNode();\n  };\n\n  this.scrollTo = function () {\n    var _ListViewRef;\n\n    _this5.ListViewRef && _this5.ListViewRef.scrollTo && (_ListViewRef = _this5.ListViewRef).scrollTo.apply(_ListViewRef, arguments);\n  };\n\n  this.onRowHighlighted = function (sectionID, rowID) {\n    _this5.setState({ highlightedRow: { sectionID: sectionID, rowID: rowID } });\n  };\n\n  this._onContentSizeChange = function (width, height) {\n    var contentLength = !_this5.props.horizontal ? height : width;\n    if (contentLength !== _this5.scrollProperties.contentLength) {\n      _this5.scrollProperties.contentLength = contentLength;\n      _this5._renderMoreRowsIfNeeded();\n    }\n    _this5.props.onContentSizeChange && _this5.props.onContentSizeChange(width, height);\n  };\n\n  this._onLayout = function (event) {\n    var _event$nativeEvent$la = event.nativeEvent.layout,\n        width = _event$nativeEvent$la.width,\n        height = _event$nativeEvent$la.height;\n\n    var visibleLength = !_this5.props.horizontal ? height : width;\n    if (visibleLength !== _this5.scrollProperties.visibleLength) {\n      _this5.scrollProperties.visibleLength = visibleLength;\n      _this5._renderMoreRowsIfNeeded();\n    }\n    _this5.props.onLayout && _this5.props.onLayout(event);\n  };\n\n  this._maybeCallOnEndReached = function (event) {\n    // console.log(this.scrollProperties, this._getDistanceFromEnd(this.scrollProperties));\n    if (_this5.props.onEndReached && _this5.scrollProperties.contentLength !== _this5._sentEndForContentLength && _this5._getDistanceFromEnd(_this5.scrollProperties) < _this5.props.onEndReachedThreshold && _this5.state.curRenderedRowsCount === _this5.props.dataSource.getRowCount()) {\n      _this5._sentEndForContentLength = _this5.scrollProperties.contentLength;\n      _this5.props.onEndReached(event);\n      return true;\n    }\n    return false;\n  };\n\n  this._renderMoreRowsIfNeeded = function () {\n    if (_this5.scrollProperties.contentLength === null || _this5.scrollProperties.visibleLength === null || _this5.state.curRenderedRowsCount === _this5.props.dataSource.getRowCount()) {\n      _this5._maybeCallOnEndReached();\n      return;\n    }\n\n    var distanceFromEnd = _this5._getDistanceFromEnd(_this5.scrollProperties);\n    // console.log(distanceFromEnd, this.props.scrollRenderAheadDistance);\n    if (distanceFromEnd < _this5.props.scrollRenderAheadDistance) {\n      _this5._pageInNewRows();\n    }\n  };\n\n  this._pageInNewRows = function () {\n    _this5.setState(function (state, props) {\n      var rowsToRender = Math.min(state.curRenderedRowsCount + props.pageSize, props.dataSource.getRowCount());\n      _this5._prevRenderedRowsCount = state.curRenderedRowsCount;\n      return {\n        curRenderedRowsCount: rowsToRender\n      };\n    }, function () {\n      _this5._prevRenderedRowsCount = _this5.state.curRenderedRowsCount;\n    });\n  };\n\n  this._getDistanceFromEnd = function (scrollProperties) {\n    return scrollProperties.contentLength - scrollProperties.visibleLength - scrollProperties.offset;\n  };\n\n  this._onScroll = function (e, metrics) {\n    // when the ListView is destroyed,\n    // but also will trigger scroll event after `scrollEventThrottle`\n    if (!_this5.ListViewRef) {\n      return;\n    }\n\n    _this5.scrollProperties = metrics;\n\n    if (!_this5._maybeCallOnEndReached(e)) {\n      _this5._renderMoreRowsIfNeeded();\n    }\n\n    if (_this5.props.onEndReached && _this5._getDistanceFromEnd(_this5.scrollProperties) > _this5.props.onEndReachedThreshold) {\n      // Scrolled out of the end zone, so it should be able to trigger again.\n      _this5._sentEndForContentLength = null;\n    }\n\n    _this5.props.onScroll && _this5.props.onScroll(e);\n  };\n};\n\nexport default ListView;"],"mappings":"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"},"metadata":{},"sourceType":"module"}