{"ast":null,"code":"function getJSBridge() {\n  if (!window.setupWebViewJavascriptBridge) return null;\n  return new Promise((resolve, reject) => {\n    window.setupWebViewJavascriptBridge(bridge => {\n      resolve(bridge);\n    });\n  });\n}\nconst JSCallNative = async function (name) {\n  let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (!window.JSBridge) {\n    window.JSBridge = await getJSBridge();\n    if (!window.JSBridge) {\n      return null;\n    }\n  }\n  return new Promise((resolve, reject) => {\n    window.JSBridge.callHandler(name, params, returnMsg => {\n      var obj = returnMsg;\n      if (typeof returnMsg === \"string\" && returnMsg.length > 0) {\n        obj = JSON.parse(returnMsg);\n      }\n      resolve(obj);\n    });\n  });\n};\nfunction isInApp() {\n  const ua = navigator.userAgent;\n  if (ua.indexOf('app') > -1) {\n    return true;\n  }\n  return false;\n}\nfunction isAndroid() {\n  const u = navigator.userAgent;\n  return u.indexOf('Android') > -1 || u.indexOf('Adr') > -1;\n}\n\n/**\n   * 调用原生方法获取账户信息\n   */\nasync function getAccountInfo() {\n  return {\n    uid: '7658762',\n    token: 'fb41203dadc8e4a7d2d040ae844cfdda',\n    summer: 0,\n    incomeShow: 1\n  };\n  const AccountInfo = await JSCallNative('getAccountInfo');\n  return AccountInfo || {};\n}\nasync function shareWechat() {\n  const info = await JSCallNative('shareWechat');\n  return info || {};\n}\nasync function shareWechatTimeline() {\n  const info = await JSCallNative('shareWechatTimeline');\n  return info || {};\n}\nasync function getShareURL() {\n  const info = await JSCallNative('getShareURL');\n  return info || {};\n}\nasync function openURL(router) {\n  const info = await JSCallNative('openURL', {\n    \"url\": router\n  });\n  return info || {};\n}\nasync function openCert(type) {\n  const info = await JSCallNative('openCert', {\n    \"type\": type\n  });\n  return info || {};\n}\nexport { getAccountInfo, isInApp, shareWechat, shareWechatTimeline, getShareURL, openURL, isAndroid, openCert };","map":{"version":3,"names":["getJSBridge","window","setupWebViewJavascriptBridge","Promise","resolve","reject","bridge","JSCallNative","name","params","JSBridge","callHandler","returnMsg","obj","length","JSON","parse","isInApp","ua","navigator","userAgent","indexOf","isAndroid","u","getAccountInfo","uid","token","summer","incomeShow","AccountInfo","shareWechat","info","shareWechatTimeline","getShareURL","openURL","router","openCert","type"],"sources":["/usr/local/var/www/orangeweb/src/common/bridge.js"],"sourcesContent":["\nfunction getJSBridge(){\n  if(!window.setupWebViewJavascriptBridge) return null\n  return new Promise((resolve, reject)=>{\n    window.setupWebViewJavascriptBridge(bridge => {\n      resolve(bridge)\n    })\n  });\n}\n\nconst JSCallNative = async (name, params = {}) => {\n  if (!window.JSBridge) {\n    window.JSBridge = await getJSBridge()\n    if (!window.JSBridge) {\n      return null\n    }\n  }\n  return new Promise((resolve, reject)=>{\n    window.JSBridge.callHandler(name, params, (returnMsg) => {\n      var obj = returnMsg;\n      if (typeof(returnMsg) === \"string\" && returnMsg.length > 0) {\n        obj = JSON.parse(returnMsg);\n      }\n      resolve(obj)\n    })\n  })\n}\n\nfunction isInApp() {\n  const ua = navigator.userAgent\n  if (ua.indexOf('app') > -1) {\n    return true\n  }\n  return false\n}\n\nfunction isAndroid() {\n  const u = navigator.userAgent\n  return u.indexOf('Android') > -1 || u.indexOf('Adr') > -1\n}\n\n/**\n   * 调用原生方法获取账户信息\n   */\nasync function getAccountInfo() {\n  return {\n    uid: '7658762',\n    token: 'fb41203dadc8e4a7d2d040ae844cfdda',\n    summer: 0,\n    incomeShow: 1,\n  }\n  const AccountInfo = await JSCallNative('getAccountInfo')\n  return AccountInfo || {}\n}\n\nasync function shareWechat() {\n  const info = await JSCallNative('shareWechat')\n  return info || {}\n}\n\nasync function shareWechatTimeline() {\n  const info = await JSCallNative('shareWechatTimeline')\n  return info || {}\n}\n\nasync function getShareURL() {\n  const info = await JSCallNative('getShareURL')\n  return info || {}\n}\n\nasync function openURL(router) {\n    const info = await JSCallNative('openURL', {\"url\": router})\n    return info || {}\n}\n\nasync function openCert(type) {\n    const info = await JSCallNative('openCert', {\"type\": type})\n    return info || {}\n}\n\nexport {\n  getAccountInfo,\n  isInApp,\n  shareWechat,\n  shareWechatTimeline,\n  getShareURL,\n  openURL,\n  isAndroid,\n    openCert,\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}