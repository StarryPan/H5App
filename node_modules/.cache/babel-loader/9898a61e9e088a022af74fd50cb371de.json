{"ast":null,"code":"import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport Animate from 'rc-animate';\nimport createChainedFunction from 'rc-util/es/createChainedFunction';\nimport classnames from 'classnames';\nimport Notice from './Notice';\nvar seed = 0;\nvar now = Date.now();\nfunction getUuid() {\n  return 'rcNotification_' + now + '_' + seed++;\n}\nvar Notification = function (_Component) {\n  _inherits(Notification, _Component);\n  function Notification() {\n    var _ref;\n    var _temp, _this, _ret;\n    _classCallCheck(this, Notification);\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Notification.__proto__ || Object.getPrototypeOf(Notification)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      notices: []\n    }, _this.add = function (notice) {\n      var key = notice.key = notice.key || getUuid();\n      _this.setState(function (previousState) {\n        var notices = previousState.notices;\n        if (!notices.filter(function (v) {\n          return v.key === key;\n        }).length) {\n          return {\n            notices: notices.concat(notice)\n          };\n        }\n      });\n    }, _this.remove = function (key) {\n      _this.setState(function (previousState) {\n        return {\n          notices: previousState.notices.filter(function (notice) {\n            return notice.key !== key;\n          })\n        };\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  _createClass(Notification, [{\n    key: 'getTransitionName',\n    value: function getTransitionName() {\n      var props = this.props;\n      var transitionName = props.transitionName;\n      if (!transitionName && props.animation) {\n        transitionName = props.prefixCls + '-' + props.animation;\n      }\n      return transitionName;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this,\n        _className;\n      var props = this.props;\n      var noticeNodes = this.state.notices.map(function (notice) {\n        var onClose = createChainedFunction(_this2.remove.bind(_this2, notice.key), notice.onClose);\n        return React.createElement(Notice, _extends({\n          prefixCls: props.prefixCls\n        }, notice, {\n          onClose: onClose\n        }), notice.content);\n      });\n      var className = (_className = {}, _defineProperty(_className, props.prefixCls, 1), _defineProperty(_className, props.className, !!props.className), _className);\n      return React.createElement('div', {\n        className: classnames(className),\n        style: props.style\n      }, React.createElement(Animate, {\n        transitionName: this.getTransitionName()\n      }, noticeNodes));\n    }\n  }]);\n  return Notification;\n}(Component);\nNotification.propTypes = {\n  prefixCls: PropTypes.string,\n  transitionName: PropTypes.string,\n  animation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  style: PropTypes.object\n};\nNotification.defaultProps = {\n  prefixCls: 'rmc-notification',\n  animation: 'fade',\n  style: {\n    top: 65,\n    left: '50%'\n  }\n};\nNotification.newInstance = function newNotificationInstance(properties, callback) {\n  var _ref2 = properties || {},\n    getContainer = _ref2.getContainer,\n    props = _objectWithoutProperties(_ref2, ['getContainer']);\n  var div = void 0;\n  if (getContainer) {\n    div = getContainer();\n  } else {\n    div = document.createElement('div');\n    document.body.appendChild(div);\n  }\n  var called = false;\n  function ref(notification) {\n    if (called) {\n      return;\n    }\n    called = true;\n    callback({\n      notice: function notice(noticeProps) {\n        notification.add(noticeProps);\n      },\n      removeNotice: function removeNotice(key) {\n        notification.remove(key);\n      },\n      component: notification,\n      destroy: function destroy() {\n        ReactDOM.unmountComponentAtNode(div);\n        if (!getContainer) {\n          document.body.removeChild(div);\n        }\n      }\n    });\n  }\n  ReactDOM.render(React.createElement(Notification, _extends({}, props, {\n    ref: ref\n  })), div);\n};\nexport default Notification;","map":{"version":3,"names":["_objectWithoutProperties","_defineProperty","_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","Component","PropTypes","ReactDOM","Animate","createChainedFunction","classnames","Notice","seed","now","Date","getUuid","Notification","_Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","Object","getPrototypeOf","call","apply","concat","state","notices","add","notice","key","setState","previousState","filter","v","remove","value","getTransitionName","props","transitionName","animation","prefixCls","render","_this2","_className","noticeNodes","map","onClose","bind","createElement","content","className","style","propTypes","string","oneOfType","object","defaultProps","top","left","newInstance","newNotificationInstance","properties","callback","_ref2","getContainer","div","document","body","appendChild","called","ref","notification","noticeProps","removeNotice","component","destroy","unmountComponentAtNode","removeChild"],"sources":["/usr/local/var/www/orangeweb/node_modules/rmc-notification/es/Notification.js"],"sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport Animate from 'rc-animate';\nimport createChainedFunction from 'rc-util/es/createChainedFunction';\nimport classnames from 'classnames';\nimport Notice from './Notice';\n\nvar seed = 0;\nvar now = Date.now();\n\nfunction getUuid() {\n  return 'rcNotification_' + now + '_' + seed++;\n}\n\nvar Notification = function (_Component) {\n  _inherits(Notification, _Component);\n\n  function Notification() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Notification);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Notification.__proto__ || Object.getPrototypeOf(Notification)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      notices: []\n    }, _this.add = function (notice) {\n      var key = notice.key = notice.key || getUuid();\n      _this.setState(function (previousState) {\n        var notices = previousState.notices;\n        if (!notices.filter(function (v) {\n          return v.key === key;\n        }).length) {\n          return {\n            notices: notices.concat(notice)\n          };\n        }\n      });\n    }, _this.remove = function (key) {\n      _this.setState(function (previousState) {\n        return {\n          notices: previousState.notices.filter(function (notice) {\n            return notice.key !== key;\n          })\n        };\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Notification, [{\n    key: 'getTransitionName',\n    value: function getTransitionName() {\n      var props = this.props;\n      var transitionName = props.transitionName;\n      if (!transitionName && props.animation) {\n        transitionName = props.prefixCls + '-' + props.animation;\n      }\n      return transitionName;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this,\n          _className;\n\n      var props = this.props;\n      var noticeNodes = this.state.notices.map(function (notice) {\n        var onClose = createChainedFunction(_this2.remove.bind(_this2, notice.key), notice.onClose);\n        return React.createElement(\n          Notice,\n          _extends({\n            prefixCls: props.prefixCls\n          }, notice, {\n            onClose: onClose\n          }),\n          notice.content\n        );\n      });\n      var className = (_className = {}, _defineProperty(_className, props.prefixCls, 1), _defineProperty(_className, props.className, !!props.className), _className);\n      return React.createElement(\n        'div',\n        { className: classnames(className), style: props.style },\n        React.createElement(\n          Animate,\n          { transitionName: this.getTransitionName() },\n          noticeNodes\n        )\n      );\n    }\n  }]);\n\n  return Notification;\n}(Component);\n\nNotification.propTypes = {\n  prefixCls: PropTypes.string,\n  transitionName: PropTypes.string,\n  animation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  style: PropTypes.object\n};\nNotification.defaultProps = {\n  prefixCls: 'rmc-notification',\n  animation: 'fade',\n  style: {\n    top: 65,\n    left: '50%'\n  }\n};\n\n\nNotification.newInstance = function newNotificationInstance(properties, callback) {\n  var _ref2 = properties || {},\n      getContainer = _ref2.getContainer,\n      props = _objectWithoutProperties(_ref2, ['getContainer']);\n\n  var div = void 0;\n  if (getContainer) {\n    div = getContainer();\n  } else {\n    div = document.createElement('div');\n    document.body.appendChild(div);\n  }\n  var called = false;\n  function ref(notification) {\n    if (called) {\n      return;\n    }\n    called = true;\n    callback({\n      notice: function notice(noticeProps) {\n        notification.add(noticeProps);\n      },\n      removeNotice: function removeNotice(key) {\n        notification.remove(key);\n      },\n\n      component: notification,\n      destroy: function destroy() {\n        ReactDOM.unmountComponentAtNode(div);\n        if (!getContainer) {\n          document.body.removeChild(div);\n        }\n      }\n    });\n  }\n  ReactDOM.render(React.createElement(Notification, _extends({}, props, { ref: ref })), div);\n};\n\nexport default Notification;"],"mappings":"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"},"metadata":{},"sourceType":"module"}