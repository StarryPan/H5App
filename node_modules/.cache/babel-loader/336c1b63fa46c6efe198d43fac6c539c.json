{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Dialog from './Dialog';\nfunction noop() {}\nvar IS_REACT_16 = !!ReactDOM.createPortal;\nvar CAN_USE_DOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nvar DialogWrap = function (_React$Component) {\n  _inherits(DialogWrap, _React$Component);\n  function DialogWrap() {\n    _classCallCheck(this, DialogWrap);\n    var _this = _possibleConstructorReturn(this, (DialogWrap.__proto__ || Object.getPrototypeOf(DialogWrap)).apply(this, arguments));\n    _this.saveRef = function (node) {\n      if (IS_REACT_16) {\n        _this._component = node;\n      }\n    };\n    _this.getComponent = function (visible) {\n      var props = _extends({}, _this.props);\n      ['visible', 'onAnimateLeave'].forEach(function (key) {\n        if (props.hasOwnProperty(key)) {\n          delete props[key];\n        }\n      });\n      return React.createElement(Dialog, _extends({}, props, {\n        visible: visible,\n        onAnimateLeave: _this.removeContainer,\n        ref: _this.saveRef\n      }));\n    };\n    _this.removeContainer = function () {\n      if (_this.container) {\n        if (!IS_REACT_16) {\n          ReactDOM.unmountComponentAtNode(_this.container);\n        }\n        _this.container.parentNode.removeChild(_this.container);\n        _this.container = null;\n      }\n    };\n    _this.getContainer = function () {\n      if (!_this.container) {\n        var container = document.createElement('div');\n        var containerId = _this.props.prefixCls + '-container-' + new Date().getTime();\n        container.setAttribute('id', containerId);\n        document.body.appendChild(container);\n        _this.container = container;\n      }\n      return _this.container;\n    };\n    return _this;\n  }\n  _createClass(DialogWrap, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.props.visible) {\n        this.componentDidUpdate();\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(_ref) {\n      var visible = _ref.visible;\n      return !!(this.props.visible || visible);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.props.visible) {\n        if (!IS_REACT_16) {\n          this.renderDialog(false);\n        } else {\n          // TODO for react@16 createPortal animation\n          this.removeContainer();\n        }\n      } else {\n        this.removeContainer();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (!IS_REACT_16) {\n        this.renderDialog(this.props.visible);\n      }\n    }\n  }, {\n    key: 'renderDialog',\n    value: function renderDialog(visible) {\n      ReactDOM.unstable_renderSubtreeIntoContainer(this, this.getComponent(visible), this.getContainer());\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!CAN_USE_DOM) {\n        return null;\n      }\n      var visible = this.props.visible;\n      if (IS_REACT_16 && (visible || this._component)) {\n        return ReactDOM.createPortal(this.getComponent(visible), this.getContainer());\n      }\n      return null;\n    }\n  }]);\n  return DialogWrap;\n}(React.Component);\nexport default DialogWrap;\nDialogWrap.defaultProps = {\n  visible: false,\n  prefixCls: 'rmc-dialog',\n  onClose: noop\n};","map":{"version":3,"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","ReactDOM","Dialog","noop","IS_REACT_16","createPortal","CAN_USE_DOM","window","document","createElement","DialogWrap","_React$Component","_this","__proto__","Object","getPrototypeOf","apply","arguments","saveRef","node","_component","getComponent","visible","props","forEach","key","hasOwnProperty","onAnimateLeave","removeContainer","ref","container","unmountComponentAtNode","parentNode","removeChild","getContainer","containerId","prefixCls","Date","getTime","setAttribute","body","appendChild","value","componentDidMount","componentDidUpdate","shouldComponentUpdate","_ref","componentWillUnmount","renderDialog","unstable_renderSubtreeIntoContainer","render","Component","defaultProps","onClose"],"sources":["/usr/local/var/www/orangeweb/node_modules/rmc-dialog/es/DialogWrap.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Dialog from './Dialog';\nfunction noop() {}\nvar IS_REACT_16 = !!ReactDOM.createPortal;\nvar CAN_USE_DOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar DialogWrap = function (_React$Component) {\n    _inherits(DialogWrap, _React$Component);\n\n    function DialogWrap() {\n        _classCallCheck(this, DialogWrap);\n\n        var _this = _possibleConstructorReturn(this, (DialogWrap.__proto__ || Object.getPrototypeOf(DialogWrap)).apply(this, arguments));\n\n        _this.saveRef = function (node) {\n            if (IS_REACT_16) {\n                _this._component = node;\n            }\n        };\n        _this.getComponent = function (visible) {\n            var props = _extends({}, _this.props);\n            ['visible', 'onAnimateLeave'].forEach(function (key) {\n                if (props.hasOwnProperty(key)) {\n                    delete props[key];\n                }\n            });\n            return React.createElement(Dialog, _extends({}, props, { visible: visible, onAnimateLeave: _this.removeContainer, ref: _this.saveRef }));\n        };\n        _this.removeContainer = function () {\n            if (_this.container) {\n                if (!IS_REACT_16) {\n                    ReactDOM.unmountComponentAtNode(_this.container);\n                }\n                _this.container.parentNode.removeChild(_this.container);\n                _this.container = null;\n            }\n        };\n        _this.getContainer = function () {\n            if (!_this.container) {\n                var container = document.createElement('div');\n                var containerId = _this.props.prefixCls + '-container-' + new Date().getTime();\n                container.setAttribute('id', containerId);\n                document.body.appendChild(container);\n                _this.container = container;\n            }\n            return _this.container;\n        };\n        return _this;\n    }\n\n    _createClass(DialogWrap, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (this.props.visible) {\n                this.componentDidUpdate();\n            }\n        }\n    }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(_ref) {\n            var visible = _ref.visible;\n\n            return !!(this.props.visible || visible);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            if (this.props.visible) {\n                if (!IS_REACT_16) {\n                    this.renderDialog(false);\n                } else {\n                    // TODO for react@16 createPortal animation\n                    this.removeContainer();\n                }\n            } else {\n                this.removeContainer();\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (!IS_REACT_16) {\n                this.renderDialog(this.props.visible);\n            }\n        }\n    }, {\n        key: 'renderDialog',\n        value: function renderDialog(visible) {\n            ReactDOM.unstable_renderSubtreeIntoContainer(this, this.getComponent(visible), this.getContainer());\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!CAN_USE_DOM) {\n                return null;\n            }\n            var visible = this.props.visible;\n\n            if (IS_REACT_16 && (visible || this._component)) {\n                return ReactDOM.createPortal(this.getComponent(visible), this.getContainer());\n            }\n            return null;\n        }\n    }]);\n\n    return DialogWrap;\n}(React.Component);\n\nexport default DialogWrap;\n\nDialogWrap.defaultProps = {\n    visible: false,\n    prefixCls: 'rmc-dialog',\n    onClose: noop\n};"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,+BAA+B;AACpD,OAAOC,eAAe,MAAM,sCAAsC;AAClE,OAAOC,YAAY,MAAM,mCAAmC;AAC5D,OAAOC,0BAA0B,MAAM,iDAAiD;AACxF,OAAOC,SAAS,MAAM,gCAAgC;AACtD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,WAAW;AAChC,OAAOC,MAAM,MAAM,UAAU;AAC7B,SAASC,IAAI,GAAG,CAAC;AACjB,IAAIC,WAAW,GAAG,CAAC,CAACH,QAAQ,CAACI,YAAY;AACzC,IAAIC,WAAW,GAAG,CAAC,EAAE,OAAOC,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACC,QAAQ,IAAID,MAAM,CAACC,QAAQ,CAACC,aAAa,CAAC;AAEvG,IAAIC,UAAU,GAAG,UAAUC,gBAAgB,EAAE;EACzCZ,SAAS,CAACW,UAAU,EAAEC,gBAAgB,CAAC;EAEvC,SAASD,UAAU,GAAG;IAClBd,eAAe,CAAC,IAAI,EAAEc,UAAU,CAAC;IAEjC,IAAIE,KAAK,GAAGd,0BAA0B,CAAC,IAAI,EAAE,CAACY,UAAU,CAACG,SAAS,IAAIC,MAAM,CAACC,cAAc,CAACL,UAAU,CAAC,EAAEM,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAC;IAEhIL,KAAK,CAACM,OAAO,GAAG,UAAUC,IAAI,EAAE;MAC5B,IAAIf,WAAW,EAAE;QACbQ,KAAK,CAACQ,UAAU,GAAGD,IAAI;MAC3B;IACJ,CAAC;IACDP,KAAK,CAACS,YAAY,GAAG,UAAUC,OAAO,EAAE;MACpC,IAAIC,KAAK,GAAG5B,QAAQ,CAAC,CAAC,CAAC,EAAEiB,KAAK,CAACW,KAAK,CAAC;MACrC,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAACC,OAAO,CAAC,UAAUC,GAAG,EAAE;QACjD,IAAIF,KAAK,CAACG,cAAc,CAACD,GAAG,CAAC,EAAE;UAC3B,OAAOF,KAAK,CAACE,GAAG,CAAC;QACrB;MACJ,CAAC,CAAC;MACF,OAAOzB,KAAK,CAACS,aAAa,CAACP,MAAM,EAAEP,QAAQ,CAAC,CAAC,CAAC,EAAE4B,KAAK,EAAE;QAAED,OAAO,EAAEA,OAAO;QAAEK,cAAc,EAAEf,KAAK,CAACgB,eAAe;QAAEC,GAAG,EAAEjB,KAAK,CAACM;MAAQ,CAAC,CAAC,CAAC;IAC5I,CAAC;IACDN,KAAK,CAACgB,eAAe,GAAG,YAAY;MAChC,IAAIhB,KAAK,CAACkB,SAAS,EAAE;QACjB,IAAI,CAAC1B,WAAW,EAAE;UACdH,QAAQ,CAAC8B,sBAAsB,CAACnB,KAAK,CAACkB,SAAS,CAAC;QACpD;QACAlB,KAAK,CAACkB,SAAS,CAACE,UAAU,CAACC,WAAW,CAACrB,KAAK,CAACkB,SAAS,CAAC;QACvDlB,KAAK,CAACkB,SAAS,GAAG,IAAI;MAC1B;IACJ,CAAC;IACDlB,KAAK,CAACsB,YAAY,GAAG,YAAY;MAC7B,IAAI,CAACtB,KAAK,CAACkB,SAAS,EAAE;QAClB,IAAIA,SAAS,GAAGtB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;QAC7C,IAAI0B,WAAW,GAAGvB,KAAK,CAACW,KAAK,CAACa,SAAS,GAAG,aAAa,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE;QAC9ER,SAAS,CAACS,YAAY,CAAC,IAAI,EAAEJ,WAAW,CAAC;QACzC3B,QAAQ,CAACgC,IAAI,CAACC,WAAW,CAACX,SAAS,CAAC;QACpClB,KAAK,CAACkB,SAAS,GAAGA,SAAS;MAC/B;MACA,OAAOlB,KAAK,CAACkB,SAAS;IAC1B,CAAC;IACD,OAAOlB,KAAK;EAChB;EAEAf,YAAY,CAACa,UAAU,EAAE,CAAC;IACtBe,GAAG,EAAE,mBAAmB;IACxBiB,KAAK,EAAE,SAASC,iBAAiB,GAAG;MAChC,IAAI,IAAI,CAACpB,KAAK,CAACD,OAAO,EAAE;QACpB,IAAI,CAACsB,kBAAkB,EAAE;MAC7B;IACJ;EACJ,CAAC,EAAE;IACCnB,GAAG,EAAE,uBAAuB;IAC5BiB,KAAK,EAAE,SAASG,qBAAqB,CAACC,IAAI,EAAE;MACxC,IAAIxB,OAAO,GAAGwB,IAAI,CAACxB,OAAO;MAE1B,OAAO,CAAC,EAAE,IAAI,CAACC,KAAK,CAACD,OAAO,IAAIA,OAAO,CAAC;IAC5C;EACJ,CAAC,EAAE;IACCG,GAAG,EAAE,sBAAsB;IAC3BiB,KAAK,EAAE,SAASK,oBAAoB,GAAG;MACnC,IAAI,IAAI,CAACxB,KAAK,CAACD,OAAO,EAAE;QACpB,IAAI,CAAClB,WAAW,EAAE;UACd,IAAI,CAAC4C,YAAY,CAAC,KAAK,CAAC;QAC5B,CAAC,MAAM;UACH;UACA,IAAI,CAACpB,eAAe,EAAE;QAC1B;MACJ,CAAC,MAAM;QACH,IAAI,CAACA,eAAe,EAAE;MAC1B;IACJ;EACJ,CAAC,EAAE;IACCH,GAAG,EAAE,oBAAoB;IACzBiB,KAAK,EAAE,SAASE,kBAAkB,GAAG;MACjC,IAAI,CAACxC,WAAW,EAAE;QACd,IAAI,CAAC4C,YAAY,CAAC,IAAI,CAACzB,KAAK,CAACD,OAAO,CAAC;MACzC;IACJ;EACJ,CAAC,EAAE;IACCG,GAAG,EAAE,cAAc;IACnBiB,KAAK,EAAE,SAASM,YAAY,CAAC1B,OAAO,EAAE;MAClCrB,QAAQ,CAACgD,mCAAmC,CAAC,IAAI,EAAE,IAAI,CAAC5B,YAAY,CAACC,OAAO,CAAC,EAAE,IAAI,CAACY,YAAY,EAAE,CAAC;IACvG;EACJ,CAAC,EAAE;IACCT,GAAG,EAAE,QAAQ;IACbiB,KAAK,EAAE,SAASQ,MAAM,GAAG;MACrB,IAAI,CAAC5C,WAAW,EAAE;QACd,OAAO,IAAI;MACf;MACA,IAAIgB,OAAO,GAAG,IAAI,CAACC,KAAK,CAACD,OAAO;MAEhC,IAAIlB,WAAW,KAAKkB,OAAO,IAAI,IAAI,CAACF,UAAU,CAAC,EAAE;QAC7C,OAAOnB,QAAQ,CAACI,YAAY,CAAC,IAAI,CAACgB,YAAY,CAACC,OAAO,CAAC,EAAE,IAAI,CAACY,YAAY,EAAE,CAAC;MACjF;MACA,OAAO,IAAI;IACf;EACJ,CAAC,CAAC,CAAC;EAEH,OAAOxB,UAAU;AACrB,CAAC,CAACV,KAAK,CAACmD,SAAS,CAAC;AAElB,eAAezC,UAAU;AAEzBA,UAAU,CAAC0C,YAAY,GAAG;EACtB9B,OAAO,EAAE,KAAK;EACdc,SAAS,EAAE,YAAY;EACvBiB,OAAO,EAAElD;AACb,CAAC"},"metadata":{},"sourceType":"module"}