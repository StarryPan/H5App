{"code":"(this.webpackJsonpzan=this.webpackJsonpzan||[]).push([[34],{209:function(t,e,n){},210:function(t,e,n){\"use strict\";e.a={getList:\"shop/getList\",buyGoods:\"shop/buyGoods\",searchUser:\"shop/searchUser\",getItems:\"item/getItems\",useItem:\"item/useItem\",buyRecord:\"shop/buyLog\"}},454:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",(function(){return p}));n(48);var r=n(49),a=n(37),o=n(7),i=n(8),c=n(10),s=n(9),u=n(0),l=n.n(u),f=(n(209),n(210)),h=n(44),m=n(73);n(39);function d(){d=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},a=\"function\"==typeof Symbol?Symbol:{},o=a.iterator||\"@@iterator\",i=a.asyncIterator||\"@@asyncIterator\",c=a.toStringTag||\"@@toStringTag\";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},\"\")}catch(T){s=function(t,e,n){return t[e]=n}}function u(t,e,n,a){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),c=new L(a||[]);return r(i,\"_invoke\",{value:x(t,n,c)}),i}function l(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(T){return{type:\"throw\",arg:T}}}t.wrap=u;var f={};function h(){}function m(){}function p(){}var v={};s(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(O([])));g&&g!==e&&n.call(g,o)&&(v=g);var b=p.prototype=h.prototype=Object.create(v);function w(t){[\"next\",\"throw\",\"return\"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var a;r(this,\"_invoke\",{value:function(r,o){function i(){return new e((function(a,i){!function r(a,o,i,c){var s=l(t[a],t,o);if(\"throw\"!==s.type){var u=s.arg,f=u.value;return f&&\"object\"==typeof f&&n.call(f,\"__await\")?e.resolve(f.__await).then((function(t){r(\"next\",t,i,c)}),(function(t){r(\"throw\",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return r(\"throw\",t,i,c)}))}c(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}})}function x(t,e,n){var r=\"suspendedStart\";return function(a,o){if(\"executing\"===r)throw new Error(\"Generator is already running\");if(\"completed\"===r){if(\"throw\"===a)throw o;return j()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=k(i,n);if(c){if(c===f)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(\"suspendedStart\"===r)throw r=\"completed\",n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);r=\"executing\";var s=l(t,e,n);if(\"normal\"===s.type){if(r=n.done?\"completed\":\"suspendedYield\",s.arg===f)continue;return{value:s.arg,done:n.done}}\"throw\"===s.type&&(r=\"completed\",n.method=\"throw\",n.arg=s.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,\"throw\"===e.method){if(t.iterator.return&&(e.method=\"return\",e.arg=void 0,k(t,e),\"throw\"===e.method))return f;e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return f}var r=l(n,t.iterator,e.arg);if(\"throw\"===r.type)return e.method=\"throw\",e.arg=r.arg,e.delegate=null,f;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=void 0),e.delegate=null,f):a:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,f)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return m.prototype=p,r(b,\"constructor\",{value:p,configurable:!0}),r(p,\"constructor\",{value:m,configurable:!0}),m.displayName=s(p,c,\"GeneratorFunction\"),t.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===m||\"GeneratorFunction\"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,\"GeneratorFunction\")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(E.prototype),s(E.prototype,i,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(b),s(b,c,\"Generator\"),s(b,o,(function(){return this})),s(b,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)\"t\"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type=\"throw\",i.arg=t,e.next=n,r&&(e.method=\"next\",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if(\"root\"===o.tryLoc)return r(\"end\");if(o.tryLoc<=this.prev){var c=n.call(o,\"catchLoc\"),s=n.call(o,\"finallyLoc\");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,\"finallyLoc\")&&this.prev<a.finallyLoc){var o=a;break}}o&&(\"break\"===t||\"continue\"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method=\"next\",this.next=o.finallyLoc,f):this.complete(i)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var a=r.arg;C(n)}return a}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},\"next\"===this.method&&(this.arg=void 0),f}},t}var p=function(t){Object(c.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).state={hasShowHyy:!1,activeTab:1,loading:!0,tabs:[{id:1,name:\"\\u5934\\u50cf\\u6846\"},{id:2,name:\"\\u8fdb\\u573a\\u7279\\u6548\"},{id:3,name:\"\\u98d8\\u7a97\\u7279\\u6548\"},{id:4,name:\"\\u79f0\\u53f7\"}],friend:null,dataList:[]},r}return Object(i.a)(n,[{key:\"componentDidMount\",value:function(){this.getData()}},{key:\"getData\",value:function(){var t=Object(a.a)(d().mark((function t(e){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(h.a)(f.a.getItems);case 2:(n=t.sent)?this.setState({dataList:n.map((function(t){return{id:t.id,name:t.name,icon:t.icon,type:t.type,isgive:t.is_give,cost:t.cost,tag:t.tag,status:t.status,expday:t.expiration_time}})),loading:!1}):this.setState({dataList:[]});case 4:case\"end\":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:\"changeTab\",value:function(t){var e=this;this.setState({activeTab:t},(function(){window.scrollTo({top:0,behavior:\"smooth\"}),e.getData(e.state.activeTab)}))}},{key:\"useItem\",value:function(){var t=Object(a.a)(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.a.loading(),t.prev=1,t.next=4,Object(h.b)(f.a.useItem,{id:e});case 4:t.sent,r.a.hide(),r.a.show(\"\\u64cd\\u4f5c\\u6210\\u529f\"),this.getData(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),r.a.hide(),r.a.show(t.t0.message);case 14:case\"end\":return t.stop()}}),t,this,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},{key:\"gotoRecord\",value:function(){var t=\"\".concat(window.location.protocol,\"://\").concat(window.location.host);document.location.href=t+\"/#/shop/record?isHideT=1\"}},{key:\"render\",value:function(){var t=this,e=this.state,n=e.activeTab,r=e.tabs,a=e.dataList,o=e.loading,i=a.filter((function(t){return t.type===n}));return l.a.createElement(\"div\",{className:\"shop-index\"},l.a.createElement(m.a,{hideBack:!0,title:\"\\u9053\\u5177\",fixed:!0,rightContent:{title:\"\\u8d2d\\u4e70\\u8bb0\\u5f55\",onClick:function(){t.gotoRecord()}}}),l.a.createElement(\"div\",{className:\"inner\"},l.a.createElement(\"div\",{className:\"shop-menu\"},r.map((function(e){return l.a.createElement(\"span\",{key:e.id,onClick:function(){return t.changeTab(e.id)},className:n===e.id?\"active\":\"\"},e.name)}))),l.a.createElement(\"ul\",{className:\"content\"},i.map((function(e){return l.a.createElement(\"li\",{className:\"shop-item v2\",key:e.id},l.a.createElement(\"div\",{className:\"in t\".concat(e.status)},l.a.createElement(\"div\",{className:\"img\"},l.a.createElement(\"img\",{src:e.icon})),l.a.createElement(\"p\",null,e.name),l.a.createElement(\"p\",{className:\"ex\"},e.expday)),0===e.status?l.a.createElement(\"button\",{className:\"btn\",onClick:function(){return t.useItem(e.id)}},\"\\u4f7f\\u7528\"):l.a.createElement(\"button\",{className:\"btn\",onClick:function(){return t.useItem(e.id)}},\"\\u53d6\\u6d88\\u4f7f\\u7528\"))})),!i.length&&!o&&l.a.createElement(\"li\",{className:\"shop-empty\"},l.a.createElement(\"div\",{className:\"bg\"}),l.a.createElement(\"p\",null,\"\\u6682\\u65e0\\u76f8\\u5173\\u9053\\u5177\")))))}}]),n}(l.a.Component)},47:function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},48:function(t,e,n){\"use strict\";n(40),n(65),n(53)},49:function(t,e,n){\"use strict\";var r=n(38),a=n.n(r),o=n(35),i=n.n(o),c=n(0),s=n.n(c),u=n(47),l=n.n(u),f=n(36),h=n.n(f),m=n(31),d=n.n(m),p=n(32),v=n.n(p),y=n(33),g=n.n(y),b=n(34),w=n.n(b),E=n(11),x=n.n(E),k=n(14),N=n.n(k),C=n(68);var L=function(t){function e(){var t,n,r,a;d()(this,e);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=g()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.close=function(){r.clearCloseTimer(),r.props.onClose()},r.startCloseTimer=function(){r.props.duration&&(r.closeTimer=setTimeout((function(){r.close()}),1e3*r.props.duration))},r.clearCloseTimer=function(){r.closeTimer&&(clearTimeout(r.closeTimer),r.closeTimer=null)},a=n,g()(r,a)}return w()(e,t),v()(e,[{key:\"componentDidMount\",value:function(){this.startCloseTimer()}},{key:\"componentWillUnmount\",value:function(){this.clearCloseTimer()}},{key:\"render\",value:function(){var t,e=this.props,n=e.prefixCls+\"-notice\",r=(t={},a()(t,\"\"+n,1),a()(t,n+\"-closable\",e.closable),a()(t,e.className,!!e.className),t);return s.a.createElement(\"div\",{className:i()(r),style:e.style},s.a.createElement(\"div\",{className:n+\"-content\"},e.children),e.closable?s.a.createElement(\"a\",{tabIndex:\"0\",onClick:this.close,className:n+\"-close\"},s.a.createElement(\"span\",{className:n+\"-close-x\"})):null)}}]),e}(c.Component);L.propTypes={duration:x.a.number,onClose:x.a.func,children:x.a.any},L.defaultProps={onEnd:function(){},onClose:function(){},duration:1.5,style:{right:\"50%\"}};var O=L,j=0,T=Date.now();function _(){return\"rcNotification_\"+T+\"_\"+j++}var I=function(t){function e(){var t,n,r,a;d()(this,e);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=g()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.state={notices:[]},r.add=function(t){var e=t.key=t.key||_();r.setState((function(n){var r=n.notices;if(!r.filter((function(t){return t.key===e})).length)return{notices:r.concat(t)}}))},r.remove=function(t){r.setState((function(e){return{notices:e.notices.filter((function(e){return e.key!==t}))}}))},a=n,g()(r,a)}return w()(e,t),v()(e,[{key:\"getTransitionName\",value:function(){var t=this.props,e=t.transitionName;return!e&&t.animation&&(e=t.prefixCls+\"-\"+t.animation),e}},{key:\"render\",value:function(){var t,e=this,n=this.props,r=this.state.notices.map((function(t){var r=function(){var t=[].slice.call(arguments,0);return 1===t.length?t[0]:function(){for(var e=0;e<t.length;e++)t[e]&&t[e].apply&&t[e].apply(this,arguments)}}(e.remove.bind(e,t.key),t.onClose);return s.a.createElement(O,h()({prefixCls:n.prefixCls},t,{onClose:r}),t.content)})),o=(t={},a()(t,n.prefixCls,1),a()(t,n.className,!!n.className),t);return s.a.createElement(\"div\",{className:i()(o),style:n.style},s.a.createElement(C.a,{transitionName:this.getTransitionName()},r))}}]),e}(c.Component);I.propTypes={prefixCls:x.a.string,transitionName:x.a.string,animation:x.a.oneOfType([x.a.string,x.a.object]),style:x.a.object},I.defaultProps={prefixCls:\"rmc-notification\",animation:\"fade\",style:{top:65,left:\"50%\"}},I.newInstance=function(t,e){var n=t||{},r=n.getContainer,a=l()(n,[\"getContainer\"]),o=void 0;r?o=r():(o=document.createElement(\"div\"),document.body.appendChild(o));var i=!1;N.a.render(s.a.createElement(I,h()({},a,{ref:function(t){i||(i=!0,e({notice:function(e){t.add(e)},removeNotice:function(e){t.remove(e)},component:t,destroy:function(){N.a.unmountComponentAtNode(o),r||document.body.removeChild(o)}}))}})),o)};var S=I,P=n(66),G={duration:3,mask:!0},D=void 0,A=void 0;function F(t,e){var n;S.newInstance({prefixCls:\"am-toast\",style:{},transitionName:\"am-fade\",className:i()((n={},a()(n,\"am-toast-mask\",t),a()(n,\"am-toast-nomask\",!t),n))},(function(t){return e&&e(t)}))}function R(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G.duration,r=arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:G.mask,o={info:\"\",success:\"success\",fail:\"fail\",offline:\"dislike\",loading:\"loading\"},i=o[e];A=!1,F(a,(function(e){if(e){if(D&&(D.destroy(),D=null),A)return e.destroy(),void(A=!1);D=e,e.notice({duration:n,style:{},content:i?c.createElement(\"div\",{className:\"am-toast-text am-toast-text-icon\",role:\"alert\",\"aria-live\":\"assertive\"},c.createElement(P.a,{type:i,size:\"lg\"}),c.createElement(\"div\",{className:\"am-toast-text-info\"},t)):c.createElement(\"div\",{className:\"am-toast-text\",role:\"alert\",\"aria-live\":\"assertive\"},c.createElement(\"div\",null,t)),closable:!0,onClose:function(){r&&r(),e.destroy(),e=null,D=null}})}}))}e.a={SHORT:3,LONG:8,show:function(t,e,n){return R(t,\"info\",e,(function(){}),n)},info:function(t,e,n,r){return R(t,\"info\",e,n,r)},success:function(t,e,n,r){return R(t,\"success\",e,n,r)},fail:function(t,e,n,r){return R(t,\"fail\",e,n,r)},offline:function(t,e,n,r){return R(t,\"offline\",e,n,r)},loading:function(t,e,n,r){return R(t,\"loading\",e,n,r)},hide:function(){D?(D.destroy(),D=null):A=!0},config:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.duration,n=void 0===e?3:e,r=t.mask;G.duration=n,!1===r&&(G.mask=!1)}}},53:function(t,e,n){},73:function(t,e,n){\"use strict\";var r=n(7),a=n(8),o=n(10),i=n(9),c=n(0),s=n.n(c),u=(n(74),function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(t){return Object(r.a)(this,n),e.call(this,t)}return Object(a.a)(n,[{key:\"render\",value:function(){var t=this.props,e=t.title,n=t.hideBack,r=t.fixed,a=t.trans,o=t.onBack,i=t.rightContent;return s.a.createElement(\"div\",{className:\"bk-header\"+(r?\" fixed\":\"\")+(a?\" trans\":\"\")},s.a.createElement(\"div\",{className:\"cm-header\"},!n&&s.a.createElement(\"span\",{className:\"cm-header-icon\",onClick:o},s.a.createElement(\"i\",{className:\"icon-back\"})),i&&s.a.createElement(\"span\",{className:\"cm-header-right\",onClick:i.onClick},i.title),s.a.createElement(\"h1\",{className:\"cm-page-title\"},e)))}}]),n}(c.Component));e.a=u},74:function(t,e,n){}}]);","extractedComments":["/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */"]}